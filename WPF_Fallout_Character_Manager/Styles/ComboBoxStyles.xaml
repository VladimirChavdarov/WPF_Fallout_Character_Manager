<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Style for ComboBoxItems -->
    <Style TargetType="ComboBoxItem">
        <Setter Property="FontFamily" Value="{StaticResource JH_Fallout}"/>
        <Setter Property="FontSize" Value="9"/>
        <Setter Property="Foreground" Value="{StaticResource FalloutGreen}"/>
        <Setter Property="Background" Value="{StaticResource FalloutGreenBackground}"/>
        <Setter Property="Padding" Value="2"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBoxItem">
                    <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter x:Name="ContentPresenter"
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                            TextElement.Foreground="{TemplateBinding Foreground}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource FalloutGreenFaded}"/>
                            <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="Black"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource FalloutGreen}"/>
                            <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="Black"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ComboBox Template -->
    <Style TargetType="ComboBox">
        <Setter Property="Foreground" Value="{StaticResource FalloutGreen}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBox">
                    <Grid>
                        <!-- Border around the ComboBox -->
                        <Border x:Name="Border" 
                                    Background="{StaticResource FalloutGreenBackground}" 
                                    BorderBrush="{StaticResource FalloutGreen}" 
                                    BorderThickness="0"/>

                        <!-- ToggleButton (Arrow) -->
                        <ToggleButton x:Name="ToggleButton"
                            Grid.Column="2"
                            Focusable="false"
                            IsChecked="{Binding Path=IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Stretch"
                            Height="Auto"
                            Width="20">
                            <ToggleButton.Template>
                                <ControlTemplate TargetType="ToggleButton">
                                    <Border x:Name="ArrowBorder"
                                        Background="{StaticResource FalloutGreenBackground}"
                                        BorderBrush="{StaticResource FalloutGreen}"
                                        BorderThickness="0">
                                        <Path x:Name="Arrow"
                                            Data="M 0 0 L 4 4 L 8 0 Z"
                                            Fill="{StaticResource FalloutGreen}"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="ArrowBorder" Property="Background" Value="{StaticResource FalloutGreen}"/>
                                            <Setter TargetName="Arrow" Property="Fill" Value="Black"/>
                                        </Trigger>
                                        <Trigger Property="IsPressed" Value="True">
                                            <Setter TargetName="ArrowBorder" Property="Background" Value="{StaticResource FalloutGreenBackground}"/>
                                            <Setter TargetName="Arrow" Property="Fill" Value="Black"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </ToggleButton.Template>
                        </ToggleButton>

                        <!-- Content (Selected Item) -->

                        <TextBlock x:Name="TextBlock"
                            FontFamily="{StaticResource JH_Fallout}"
                            FontSize="9"
                            Padding="2 5"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Text="{TemplateBinding Text}"
                            TextWrapping="Wrap"
                            Foreground="{StaticResource FalloutGreen}"/>

                        <!-- Dropdown -->
                        <Popup x:Name="Popup" 
                                Placement="Bottom"
                                IsOpen="{TemplateBinding IsDropDownOpen}" 
                                AllowsTransparency="True"
                                Focusable="False"
                                PopupAnimation="None">
                            <Border
                                Background="{StaticResource FalloutGreenBackground}" 
                                BorderBrush="{StaticResource FalloutGreen}" 
                                BorderThickness="1">
                                <ScrollViewer
                                    Margin="0"
                                    SnapsToDevicePixels="True">
                                    <StackPanel
                                        IsItemsHost="True"
                                        KeyboardNavigation.DirectionalNavigation="Contained"/>
                                </ScrollViewer>
                            </Border>
                        </Popup>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>